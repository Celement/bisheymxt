<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>æ–‡ä»¶ååˆ†é¡µå±•ç¤º</title>
<style>
:root{--bg:#f6f7fb;--bg2:#eef2ff;--accent:#22c55e;--accent2:#38bdf8;--text:#0b1220;--muted:#64748b;--card:#ffffff;--border:#e5e7eb;--pages:1280px;--sideW:128px;--gap:36px}
html,body{height:100%}
body{margin:0;background:linear-gradient(135deg,var(--bg),var(--bg2));color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"PingFang SC","Microsoft YaHei",sans-serif}
.wrap{max-width:1400px;margin:0 auto;padding:24px 32px}
.hdr{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:12px 0}
.title{font-size:26px;font-weight:700;letter-spacing:.3px}
.sub{font-size:13px;color:var(--muted)}
.ctrls{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.sel{height:36px;border:1px solid var(--border);border-radius:10px;padding:0 10px;background:#fff;color:var(--text)}
.search{height:36px;border:1px solid var(--border);border-radius:999px;padding:0 14px;width:280px;max-width:40vw;background:#fff;color:var(--text);box-shadow:0 8px 24px rgba(56,189,248,.08);transition:box-shadow .12s ease}
.search:focus{outline:none;box-shadow:0 8px 28px rgba(34,197,94,.18)}
.pager{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.pager a{display:inline-flex;align-items:center;justify-content:center;min-width:34px;height:34px;padding:0 10px;border-radius:10px;text-decoration:none;color:var(--text);background:#fff;border:1px solid var(--border);transition:transform .12s ease,background .12s ease}
.pager a:hover{transform:translateY(-1px);background:#f0fdf4;border-color:#86efac}
.pager .sp{color:var(--muted);padding:0 6px}
.pages{margin-top:20px;max-width:1280px;margin-left:auto;margin-right:auto;padding:0 12px}
.page{display:none}
.page:target{display:block}
.page.active{display:block}
.page:target ~ .page.active{display:none}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:18px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.9),rgba(255,255,255,.95));border:1px solid var(--border);border-radius:16px;padding:16px;min-height:100px;display:flex;flex-direction:column;gap:10px;box-shadow:0 10px 28px rgba(56,189,248,.12);transition:transform .12s ease,box-shadow .12s ease}
.card:hover{transform:translateY(-2px);box-shadow:0 14px 32px rgba(34,197,94,.18)}
.idx{font-size:12px;color:var(--muted);background:linear-gradient(180deg,rgba(16,185,129,.15),rgba(14,165,233,.15));border:1px solid var(--border);border-radius:999px;padding:4px 8px;display:inline-block;width:max-content}
.name{font-size:16px;line-height:1.5}
.tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:2px}
.tag{font-size:12px;line-height:1;border:1px solid var(--border);border-radius:999px;padding:6px 10px;background:#fff;box-shadow:0 6px 18px rgba(2,132,199,.08)}
.tag.sb{background:rgba(34,197,94,.12);border-color:rgba(34,197,94,.28)}
.tag.vue{background:rgba(56,189,248,.12);border-color:rgba(56,189,248,.28)}
.tag.ssm{background:rgba(147,51,234,.12);border-color:rgba(147,51,234,.28)}
.tag.mini{background:rgba(251,146,60,.12);border-color:rgba(251,146,60,.28)}
.tag.paper{background:rgba(59,130,246,.12);border-color:rgba(59,130,246,.28)}
.tag.shop{background:rgba(236,72,153,.12);border-color:rgba(236,72,153,.28)}
.tag.med{background:rgba(239,68,68,.12);border-color:rgba(239,68,68,.28)}
.tag.edu{background:rgba(14,165,233,.12);border-color:rgba(14,165,233,.28)}
.tag.travel{background:rgba(20,184,166,.12);border-color:rgba(20,184,166,.28)}
.tag.pet{background:rgba(245,158,11,.12);border-color:rgba(245,158,11,.28)}
.tag.sys{background:rgba(100,116,139,.12);border-color:rgba(100,116,139,.28)}
.tag.plat{background:rgba(2,132,199,.12);border-color:rgba(2,132,199,.28)}
.tag.data{background:rgba(99,102,241,.12);border-color:rgba(99,102,241,.28)}
.hl{background:#fff3b0;border-radius:4px;padding:0 2px}
.pagehdr{display:flex;align-items:center;justify-content:space-between;margin:12px 0 16px}
.pagehdr .label{font-size:13px;color:var(--muted)}
.pagehdr .pager a{height:32px;min-width:32px}
.empty{padding:20px;color:var(--muted)}
@media (max-width:1000px){.grid{grid-template-columns:repeat(4,1fr)}}
@media (max-width:800px){.grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:600px){.title{font-size:22px}.grid{grid-template-columns:repeat(2,1fr)}}
.side{position:fixed;top:50%;transform:translateY(-50%);width:var(--sideW);background:#fff;border:1px solid var(--border);border-radius:16px;padding:12px;text-align:center;box-shadow:0 10px 28px rgba(56,189,248,.12);z-index:50}
.side.left{left:calc(50vw - (var(--pages) / 2) - var(--gap) - var(--sideW))}
.side.right{right:calc(50vw - (var(--pages) / 2) - var(--gap) - var(--sideW))}
.side img{width:100%;height:auto;border-radius:12px;object-fit:contain;display:block}
.side .caption{font-size:16px;font-weight:700;color:var(--accent2);margin:0 0 10px;background:linear-gradient(180deg,rgba(56,189,248,.10),rgba(34,197,94,.10));border:1px solid var(--border);border-radius:10px;padding:6px 8px;letter-spacing:.2px}
@media (max-width:1608px){.side{display:none}}
</style>
</head>
<body>
  <div class="side left">
    <div class="caption">æ‰«ç è”ç³»è·å–æºç </div>
    <img src="qr.png" alt="æ‰«ç è”ç³»è·å–æºç ">
  </div>
  <div class="side right">
    <div class="caption">æ‰«ç å…³æ³¨å…¬ä¼—å·</div>
    <img src="qr2.png" alt="æ‰«ç å…³æ³¨å…¬ä¼—å·">
  </div>
  <div class="wrap">
    <div class="hdr">
      <div>
        <div class="title">æ–‡ä»¶ååˆ†é¡µå±•ç¤º</div>
        <div class="sub">æ•°æ®æ¥æºï¼šdata.js</div>
      </div>
      <div class="ctrls">
        <label class="sub">æ¯é¡µ</label>
        <select id="pageSize" class="sel">
          <option value="20" selected>20</option>
          <option value="50">50</option>
          <option value="80">80</option>
          <option value="100">100</option>
        </select>
        <input id="search" class="search" type="text" placeholder="æœç´¢æ–‡ä»¶å">
        <div id="count" class="sub"></div>
      </div>
    </div>

    <div class="pages" id="pages">
      <section id="p1" class="page active">
        <div class="pagehdr">
          <div class="label" id="pageLabel">åˆ†é¡µ</div>
          <div class="pager" id="pageNav"></div>
        </div>
        <div class="grid" id="grid"></div>
        <div class="empty" id="empty"></div>
      </section>
    </div>
  </div>
<script src="data.js"></script>
<script>
const state={allItems:[],items:[],pageSize:20,page:1,pages:0,query:''}
const grid=document.getElementById('grid')
const pageNav=document.getElementById('pageNav')
const pageLabel=document.getElementById('pageLabel')
const empty=document.getElementById('empty')
const pageSizeSel=document.getElementById('pageSize')
const countEl=document.getElementById('count')
const search=document.getElementById('search')

function renderPager(){
  pageNav.innerHTML=''
  const mk=(n)=>{const a=document.createElement('a');a.href='#';a.textContent=n; if(n===state.page)a.style.background='#f0fdf4';a.addEventListener('click',e=>{e.preventDefault(); goto(n)}); return a}
  const prev=document.createElement('a'); prev.href='#'; prev.textContent='ä¸Šä¸€é¡µ'; prev.addEventListener('click',e=>{e.preventDefault(); goto(Math.max(1,state.page-1))}); pageNav.appendChild(prev)
  for(let n=1;n<=state.pages;n++){ if(n<=3||n>state.pages-3||Math.abs(n-state.page)<=2){ pageNav.appendChild(mk(n)) } else if(n===4||n===state.pages-3){ const sp=document.createElement('span'); sp.className='sp'; sp.textContent='â€¦'; pageNav.appendChild(sp) }
  }
  const next=document.createElement('a'); next.href='#'; next.textContent='ä¸‹ä¸€é¡µ'; next.addEventListener('click',e=>{e.preventDefault(); goto(Math.min(state.pages,state.page+1))}); pageNav.appendChild(next)
}

function renderPage(){
  const start=(state.page-1)*state.pageSize
  const end=Math.min(state.items.length,start+state.pageSize)
  grid.innerHTML=''
  for(let i=start;i<end;i++){
    const it=state.items[i]
    const card=document.createElement('div'); card.className='card'
    const idx=document.createElement('div'); idx.className='idx'; idx.textContent=it.idx
    const name=document.createElement('div'); name.className='name'
    if(state.query){
      const q=state.query.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')
      const reg=new RegExp(q,'gi')
      name.innerHTML=it.name.replace(reg,(m)=>`<span class="hl">${m}</span>`)
    } else {
      name.textContent=it.name
    }
    const tags=document.createElement('div'); tags.className='tags'
    getTags(it.name).forEach(t=>{ const s=document.createElement('span'); s.className='tag '+t.cls; s.textContent=t.text; tags.appendChild(s) })
    card.appendChild(idx); card.appendChild(name); card.appendChild(tags); grid.appendChild(card)
  }
  pageLabel.textContent=`ç¬¬ ${state.page} é¡µ`
  const totalTxt = `å…± ${state.allItems.length} æ¡`
  const filtTxt = state.query ? ` Â· ç­›é€‰ ${state.items.length} æ¡` : ''
  countEl.textContent= totalTxt + filtTxt
  empty.style.display=state.items.length? 'none':'block'
}

function goto(n){ state.page=n; renderPage(); renderPager(); }

function applyFilter(){
  if(state.query){
    const q=state.query.toLowerCase()
    state.items = state.allItems.filter(it=> it.name.toLowerCase().includes(q))
  } else {
    state.items = state.allItems.slice()
  }
  state.pages = Math.max(1, Math.ceil(state.items.length/state.pageSize))
  if(state.page>state.pages) state.page = state.pages
}

pageSizeSel.addEventListener('change',()=>{ state.pageSize=parseInt(pageSizeSel.value,10)||20; applyFilter(); state.page=1; renderPage(); renderPager(); })

let t
search.addEventListener('input',(e)=>{ clearTimeout(t); t=setTimeout(()=>{ state.query=e.target.value.trim(); state.page=1; applyFilter(); renderPage(); renderPager(); },150) })

state.allItems=(window.FILENAMES||[]).map((name,i)=>({idx:i+2,name}))
applyFilter()
renderPage(); renderPager();

function getTags(name){
  const n = name.toLowerCase()
  const res = []
  if(/springboot/i.test(name)) res.push({text:'SpringBoot ğŸš€',cls:'sb'})
  if(/vue/i.test(name)) res.push({text:'Vue ğŸƒ',cls:'vue'})
  if(/\bssm\b/i.test(name)) res.push({text:'SSM ğŸ§©',cls:'ssm'})
  if(/å°ç¨‹åº/.test(name)) res.push({text:'å°ç¨‹åº ğŸ“±',cls:'mini'})
  if(/è®ºæ–‡/.test(name)) res.push({text:'è®ºæ–‡ ğŸ“˜',cls:'paper'})
  if(/å•†åŸ|è´­ç‰©/.test(name)) res.push({text:'å•†åŸ ğŸ›ï¸',cls:'shop'})
  if(/åŒ»é™¢|åŒ»ç–—|æŒ‚å·/.test(name)) res.push({text:'åŒ»é™¢ ğŸ¥',cls:'med'})
  if(/æ ¡å›­|é«˜æ ¡|å­¦ç”Ÿ|æ•™åŠ¡/.test(name)) res.push({text:'æ ¡å›­ ğŸ“',cls:'edu'})
  if(/æ—…æ¸¸|æ™¯åŒº|ç¥¨åŠ¡/.test(name)) res.push({text:'æ—…æ¸¸ ğŸ§­',cls:'travel'})
  if(/å® ç‰©|çŒ«ç‹—/.test(name)) res.push({text:'å® ç‰© ğŸ¾',cls:'pet'})
  if(/ç³»ç»Ÿ/.test(name)) res.push({text:'ç³»ç»Ÿ âš™ï¸',cls:'sys'})
  if(/å¹³å°/.test(name)) res.push({text:'å¹³å° ğŸŒ',cls:'plat'})
  if(/æ•°æ®|å¯è§†åŒ–|ç®—æ³•|æ¨è/.test(name)) res.push({text:'æ•°æ® ğŸ“Š',cls:'data'})
  return res.slice(0,3)
}
</script>
</body>
</html>
